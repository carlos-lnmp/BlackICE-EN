focus_tree = {
	id = soviet_focus

	country = {
		factor = 0
		
		modifier = {
			add = 10
			tag = SOV
		}
	}
	
	default = no

	focus = {
		id = SOV_finish_five_year_plan
		icon = GFX_goal_generic_construct_civ_factory
		x = -14
		y = 0
		cost = 5
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes
		bypass = {
			
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_finish_five_year_plan_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					industrial_complex > 0
					free_building_slots = {
						building = industrial_complex
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_finish_five_year_plan_2IC
			}
		}
	}
	focus = {
		id = SOV_improve_railway
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = -6
		y = 2
		relative_position_id = SOV_finish_five_year_plan
		cost = 7
		ai_will_do = {
			factor = 1
		}
		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_improve_railway_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 500000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 500000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
			random_owned_controlled_state = {
				limit = { 
					free_building_slots = {
						building = infrastructure
						size > 2
					}
					state_population > 500000
				}
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
				set_state_flag = SOV_improve_railway_3Inf
			}
			
		}
	}
	focus = {
		id = SOV_buildup_steel_industry
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = -3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
			}
		}
		available = {
		
		}
		completion_reward = {
			random_owned_controlled_state = {
					add_resource = {
						type = steel
						amount = 50
					}
				}
			random_owned_controlled_state = {
					add_resource = {
						type = steel
						amount = 50
					}
				}
			random_owned_controlled_state = {
					add_resource = {
						type = steel
						amount = 50
					}
				}
			random_owned_controlled_state = {
					add_resource = {
						type = tungsten
						amount = 10
					}
				}
			
			random_owned_controlled_state = {
					add_resource = {
						type = chromium
						amount = 5
					}
				}
		}
	}
		#The 'Kulaks' collectivisation
	focus = {
		id = SOV_kulaks_collectivisation
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_finish_five_year_plan }
		available = {
			
		}
		x = -1
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		
			add_timed_idea = {
				idea = SOV_collectivist_propaganda2
				days = 365
		}
			add_equipment_to_stockpile = {
						type = horse_equipment_0
						amount = 5000
						producer = SOV
					}
		199 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		201 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		202 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		193 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		203 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		225 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		259 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		226 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		197 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		192 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		226 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		197 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		196 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		221 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		200 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		227 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		228 = {
				
				add_building_construction = {
					type = infrastructure
					level = -1
					instant_build = yes
				}
		}
		
		}
	}


	focus = {
		id = SOV_production_effort
		text = production_effort
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = 1
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 5
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes
		bypass = {
			
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_production_effort_2AF }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
		}

		completion_reward = {
			army_experience = 50
		
		random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				
			}
		}
	}
	
	focus = {
		id = SOV_extra_tech_slot_early
		icon = GFX_focus_research
		#text = extra_tech_slot
		prerequisite = { focus = SOV_finish_five_year_plan }
		
		x = 3
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SOV_massive_education_idea
		}
	}
	
	focus = {
		id = SOV_infrastructure_effort
		icon = GFX_goal_generic_construct_infrastructure
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = 5
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 5
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes
		bypass = {
			
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_infrastructure_effort_3Inf }
				add_building_construction = {
					type = infrastructure
					level = 3
					instant_build = yes
				}
			}
		}

		completion_reward = {
			if = {
				limit = {
					all_owned_state = {
						NOT = { infrastructure < 6 }
					}
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes						
					}
					set_state_flag = SOV_infrastructure_effort_3Inf
				}
				random_owned_controlled_state = {
					limit = {
						free_building_slots = {
							building = infrastructure
							size > 2
						}
					}
					add_building_construction = {
						type = infrastructure
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_infrastructure_effort_3Inf
				}				
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 6
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 6
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 6
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
			random_owned_controlled_state = {
				limit = {
					infrastructure < 6
				}
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_infrastructure_effort_3Inf	
			}
		}
	}
	#Moskva-Volga canal
	focus = {
		id = SOV_Moskva_Volga_canal
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_finish_five_year_plan }
		x = -5
		y = 1
		relative_position_id = SOV_finish_five_year_plan
		cost = 5
		available = {
			controls_state = 845
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			if = {
				limit = {
					845 = { is_fully_controlled_by = ROOT }
				}
				
				845 = {
					add_building_construction = {
						type = infrastructure
						level = 1
						instant_build = yes
					}
					every_neighbor_state = {
						limit = { is_fully_controlled_by = ROOT }
						add_building_construction = {
							type = infrastructure
							level = 1
							instant_build = yes
						}
					}
				}
			}
		}
		#add_ideas = moscow_canal
	}
	focus = {
		id = SOV_third_five_year_plan
		icon = GFX_goal_generic_construct_civ_factory
		prerequisite = { focus = SOV_Moskva_Volga_canal}
		prerequisite = { focus = SOV_infrastructure_effort}
		prerequisite = { focus = SOV_extra_tech_slot_early}
		prerequisite = { focus = SOV_production_effort}
		prerequisite = { focus = SOV_kulaks_collectivisation}
		prerequisite = { focus = SOV_buildup_steel_industry}
		x = 0
		y = 2
		relative_position_id = SOV_finish_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 5
		}
		available_if_capitulated = yes
		bypass = {
			
		}

		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_third_five_year_plan_2IC }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:industry_folder = yes
		}
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			random_owned_controlled_state = {
				limit = {
					arms_factory > 0
					free_building_slots = {
						building = arms_factory
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = arms_factory
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_third_five_year_plan_2IC
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:industry_folder = yes
		}
	}
	focus = {
		id = SOV_buildup_industry_urals
		
		icon = GFX_goal_generic_construct_mil_factory
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 4
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 5
		}	
		available_if_capitulated = yes
		completion_reward = {
							
			653 = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_3AF
				}
			}
			
			572 = {
				if = {
					limit = { 
						free_building_slots = {
							building = arms_factory
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = arms_factory
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_3AF
							}
						}
			653 = {
				if = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_3AF
				}
			}
			
			572 = {
				if = {
					limit = { 
						free_building_slots = {
							building = industrial_complex
							size > 0
							include_locked = yes
						}
					}
					add_extra_state_shared_building_slots = 2
					add_building_construction = {
						type = industrial_complex
						level = 2
						instant_build = yes
					}
					set_state_flag = SOV_production_effort_3AF
							}
						}
					249 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			582 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			653 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			572 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			578 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
			571 = {
				
				add_building_construction = {
					type = infrastructure
					level = 1
					instant_build = yes
				}
				
			}
					}
				}

	focus = {
		id = SOV_tranformation_of_nature
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 2
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 10
		ai_will_do = {
			factor = 5
		}	
		available = {
			controls_state = 404
		}
		completion_reward = {
			add_political_power = -45
			add_resource = {
				type = rubber
				amount = 18
				state = 404
			}
			404 = {
				
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = synthetic_rubber_refinery
					level = 1
					instant_build = yes
				}
			}
		}
	}
	#WOMEN IN THE INDUSTRY
focus = {
		id = SOV_soviet_women_workers
		icon = GFX_goal_soviet_women_workers
		prerequisite = { focus = SOV_third_five_year_plan }
		x = 0
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 5
		available = {
			date > 1942.1.1
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_ideas = womenworkers
		
		}
	}

	focus = {
		id = SOV_move_industry_to_urals
		icon = GFX_goal_generic_construct_civilian
		prerequisite = { focus = SOV_third_five_year_plan }
		x = -2
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 1
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				NOT = { has_war_with = GER }
			}
		}
		available = {
			845 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 5
				industrial_complex > 1
			}
			195 = {
				is_owned_and_controlled_by = SOV
				arms_factory > 4
				industrial_complex > 0
			}
			242 = {
				is_owned_and_controlled_by = SOV
				industrial_complex > 1
			}
			has_war_with = GER
			573 = {
				is_owned_and_controlled_by = SOV
			}
			582 = {
				is_owned_and_controlled_by = SOV
			} 
		}
		completion_reward = {
			845 = {
				remove_building = {
					type = arms_factory
					level = 6
				}
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
			195 = {
				remove_building = {
					type = arms_factory
					level = 5
				}
				remove_building = {
					type = industrial_complex
					level = 1
				}
			}
			242 = {
				remove_building = {
					type = industrial_complex
					level = 2
				}
			}
			573 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 5
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 3
					instant_build = yes
				}
			}
			582 = {
				add_extra_state_shared_building_slots = 8
				add_building_construction = {
					type = arms_factory
					level = 6
					instant_build = yes
				}
				add_building_construction = {
					type = industrial_complex
					level = 2
					instant_build = yes
				}
			}
			# REVISIT Consider implementing as events
		}
	}
	
	focus = {
		id = SOV_defense_of_moscow
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_third_five_year_plan }
		available = {
			#any_owned_state = {
			#	any_neighbor_state = { state = 219 } # Moscow
			#	NOT = { is_controlled_by = ROOT }
			#}
			845 = {
				is_controlled_by = ROOT
				
				OR = {
					any_neighbor_state = {
						NOT = { is_controlled_by = ROOT }
					}

					SOV = { surrender_progress > 0.1 }
				}
			}
		}
		x = -4
		y = 1
		relative_position_id = SOV_third_five_year_plan
		cost = 1
		ai_will_do = {
			factor = 100
		}	
		completion_reward = {
			army_experience = 5
			845 = {
				add_building_construction = {
					type = pillbox
					level = 1
					province = {
						all_provinces = yes 
					}
					instant_build = yes
				}
				every_neighbor_state = {
					limit = {
						is_controlled_by = ROOT 
					}
					add_building_construction = {
						type = pillbox
						level = 1
						province = {
							all_provinces = yes 
						}
						instant_build = yes
					}
				}
			}
		}
	}
	#The Leningrad Ice Road - The Road of Life
	focus = {
		id = SOV_leningrad_ice_road
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_infrastructure_effort  }
		x = 0
		y = 1
		relative_position_id = SOV_infrastructure_effort
		cost = 1
		available = {
			controls_state = 264
			controls_state = 195
			not = { controls_state = 244 }
			not = { controls_state = 208 }
			not = { controls_state = 146 }
			#month = 12
		
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			if = {
				limit = {
					264 = {
						infrastructure < 9 }
					}
			264 = {
				
				add_building_construction = {
					type = infrastructure
					level = 2
					instant_build = yes
				}
		}
		
		}
		add_timed_idea = {
				idea = Leningrad_road
				days = 152
			}  
	}
}
#######################################################
	# requistion trucks
	
	
	focus = {
		id = SOV_stalin_constitution
		icon = GFX_focus_generic_soviet_politics
		x = -3
		y = 0
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_political_power = 150
		}
	}

	focus = {
		id = SOV_collectivist_propaganda
		icon = GFX_propaganda_soviet #GFX_goal_generic_propaganda
		prerequisite = { focus = SOV_stalin_constitution }
		mutually_exclusive = { focus = SOV_positive_heroism }
		x = -5
		y = 1
		cost = 2
		ai_will_do = {
			factor = 0.25
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_political_power = 45
			# add_national_unity = 0.20 # replaced with idea
			add_ideas = SOV_collectivist_propaganda
		}
	}

	focus = {
		id = SOV_militarized_schools
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_collectivist_propaganda }
		x = -5
		y = 2
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = militarized_schools
		}
	}

	focus = {
		id = SOV_workers_culture
		icon = GFX_goal_generic_construction
		prerequisite = { focus = SOV_militarized_schools }
		x = -5
		y = 3
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = workers_culture
		}
	}
#The Soviet Amazons
	focus = {
		id = SOV_soviet_amazons
		icon = GFX_goal_soviet_amazons
		prerequisite = { focus = SOV_workers_culture }
		x = -5
		y = 4
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_timed_idea = {
				idea = soviet_women
				days = 365
			}
			
			add_political_power = 25
		}
	}
	focus = {
		id = SOV_women_pilots
		icon = GFX_goal_women_pilots
		prerequisite = { focus = SOV_soviet_amazons }
		x = -4
		y = 5
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			air_experience = 25
			set_rule = {
				can_generate_female_aces = yes
			}
			if = {
				limit = {
					SOV = { has_full_control_of_state = 219 }
				}
				custom_effect_tooltip = SOV_night_witches_tt
				#hidden_effect = {
				#	load_oob = "SOV_night_witches"
				#}
			}
		}
	}
	focus = {
		id = SOV_women_snipers
		icon = GFX_goal_women_snipers
		prerequisite = { focus = SOV_soviet_amazons }
		x = -6
		y = 5
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = sov_red_demons 
		}
	}
	focus = {
		id = SOV_new_science
		icon = GFX_focus_generic_socialist_science
		prerequisite = { focus = SOV_soviet_amazons focus =  SOV_socialist_science}
		x = -3
		y = 6
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = no
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:tank_techs_folder = yes
			SLOT:armor_folder = yes
			SLOT:air_techs_folder = yes
			SLOT:industry_folder = yes
			SLOT:ww1_land_doctrine_folder = yes
			SLOT:land_doctrine_folder = yes
			SLOT:air_doctrine_folder = yes
			SLOT:electronics_folder = yes
		}
	}	
	focus = {
		id = SOV_positive_heroism
		icon = GFX_goal_generic_cavalry
		prerequisite = { focus = SOV_stalin_constitution }
		mutually_exclusive = { focus = SOV_collectivist_propaganda }
		x = -3
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = available_military_high_command
			show_ideas_tooltip = konstantin_rokossovsky 
			custom_effect_tooltip = available_theorist
			show_ideas_tooltip = georgy_zhukov
			# REVISIT Might want to add more
		}
	}

	focus = {
		id = SOV_progress_cult
		icon = GFX_goal_generic_scientific_exchange
		prerequisite = { focus = SOV_positive_heroism }
		x = -3
		y = 2
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = progress_cult_focus
		}
	}

	focus = {
		id = SOV_socialist_science
		icon = GFX_focus_generic_socialist_science #GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_progress_cult }
		x = -3
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = socialist_science_focus
		}
	}

	focus = {
		id = SOV_extra_tech_slot
		icon = GFX_focus_research
		#text = extra_tech_slot
		prerequisite = { focus = SOV_socialist_science }
		x = -3
		y = 4
		cost = 10
		
		allow_branch = {
			always = no 
		}
		
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_research_slot = 1
			add_research_centre = yes
		}
	}
	focus = {
		id = SOV_socialist_realism
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_stalin_constitution }
		x = -1
		y = 1
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_political_power = 45
		}
	}
	#art affairs committee
	focus = {
		id = SOV_art_affairs_committee
		icon = GFX_goal_soviet_committee
		prerequisite = { focus = SOV_socialist_realism  }
		x = -1
		y = 2
		cost = 5
		available = {
						
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
		
			add_ideas = socialist_art
		
		}
	}
	#conduct 1937 Census
	focus = {
		id = SOV_conduct_Census
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_peoples_commissariat  }
		x = 1
		y = 2
		cost = 5
		available = {
			date > 1937.1.1
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_political_power = 150
			add_timed_idea = {
				idea = soviet_census
				days = 720
			}
		
		}
	}
	#conduct 1939 Census
	focus = {
		id = SOV_conduct_Census_II
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_conduct_Census  }
		x = 1
		y = 3
		cost = 5
		available = {
			date > 1939.1.1
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_political_power = 100
			add_timed_idea = {
				idea = soviet_census
				days = 365
			}
		
		}
	}
		
	focus = {
		id = SOV_new_soviet_man
		icon = GFX_goal_support_communism
		prerequisite = { focus = SOV_aviation_cult }
		x = -1
		y = 3
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			hidden_effect = {
				set_rule = {
					can_use_kamikaze_pilots = yes
				}
			}
			custom_effect_tooltip = kamikaze_focus_tooltip
		}
	}
	
	focus = {
		id = SOV_transpolar_flights
		icon = GFX_goal_generic_air_fighter2
		x = 13
		y = 0
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 1
				category = air_doctrine
			}
		}
	}
	focus = {
		id = SOV_ocean_going_navy
		icon = GFX_goal_generic_navy_battleship
		x = 9
		y = 0
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = bb_tech
				category = bc_tech
			}
		}
		completion_reward = {
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.5
					uses = 1
					category = naval_battery_heavy
				}
			}
		}
	}
	# Lithuanian warship Prezidentas Smetona
	# naval vessel OOB
	focus = {
		id = SOV_Prezidentas_Smetona
		icon = GFX_goal_generic_navy_battleship
		prerequisite = { focus = SOV_ocean_going_navy }
		x = 9
		y = 1
		cost = 2
		available = {
			SOV = { controls_state = 189 }
			#date > 1940.6.1
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			load_oob = SOV_Prezidentas_Smetona_ship
		}
	}
	focus = {
		id = SOV_expand_red_fleet
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = SOV_anti_capitalist_diplomacy focus = SOV_peoples_commissariat }
		prerequisite = { focus = SOV_ocean_going_navy }
		available = { has_offensive_war = no }
		x = 9
		y = 2
		cost = 10
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
			every_state = {
				limit = { has_state_flag = SOV_expand_red_fleet_2dockyards }
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}				
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = ca_tech
				category = cl_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 2
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 2
					category = naval_battery_light
					category = naval_battery_medium
				}
			}
		}

		completion_reward = {
			navy_experience = 25
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			random_owned_controlled_state = {
				limit = {
					dockyard > 0
					free_building_slots = {
						building = dockyard
						size > 1
						include_locked = yes
					}
				}
				add_extra_state_shared_building_slots = 2
				add_building_construction = {
					type = dockyard
					level = 2
					instant_build = yes
				}
				set_state_flag = SOV_expand_red_fleet_2dockyards
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = ca_tech
				category = cl_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.5
				uses = 1
				category = dd_tech
			}
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 2
				category = ss_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 2
					category = naval_battery_light
					category = naval_battery_medium
				}
			}
		}
	}
	focus = {
		id = SOV_soviet_naval_research
		icon = GFX_goal_generic_large_fleet
		prerequisite = { focus = SOV_expand_red_fleet }
		available = { has_offensive_war = no }
		x = 9
		y = 4
		cost = 5
		ai_will_do = {
			factor = 1
		}

		available_if_capitulated = yes
		complete_tooltip = {
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bb_tech
				category = bc_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 1
					category = naval_battery_heavy
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 1
					category = naval_shell_design
				}
			}
			else = {
				add_tech_bonus = {
					name = ships_bonus
					bonus = 0.25
					uses = 1
					category = shbb_tech
				}
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:naval_doctrine_folder = yes
		}

		completion_reward = {
			add_tech_bonus = {
				name = ships_bonus
				bonus = 0.25
				uses = 1
				category = bb_tech
				category = bc_tech
			}
			if = {
				limit = {
					has_dlc = "Man the Guns"
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 1
					category = naval_battery_heavy
				}
				add_tech_bonus = {
					bonus = 0.25
					uses = 1
					category = naval_shell_design
				}
			}
			else = {
				add_tech_bonus = {
					name = ships_bonus
					bonus = 0.25
					uses = 1
					category = shbb_tech
				}
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:naval_folder = yes
			SLOT:naval_techs_folder = yes
			SLOT:naval_doctrine_folder = yes
		}
	}
	focus = {
		id = SOV_peoples_commissariat
		icon = GFX_goal_soviet_committee
		prerequisite = { focus = SOV_stalin_constitution }
		#prerequisite = { focus = SOV_transpolar_flights }
		#prerequisite = { focus = SOV_ocean_going_navy }
		x = 1
		y = 1
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = peoples_commissariat_focus
		}
	}

	focus = {
		id = SOV_anti_fascist_diplomacy
		icon = GFX_focus_generic_anti_fascist_diplomacy #GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 4
		y = 2
		cost = 3
		ai_will_do = {
			factor = 1
			modifier = {
				has_government = fascism
				factor = 0
			}

			modifier = {
				factor = 3
				ai_irrationality < 25
			}

			modifier = {
				factor = 0.75
				ai_irrationality > 30
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 40
			}
		}	
		available = {
			NOT = { has_government = fascism }
		}
		available_if_capitulated = yes
		completion_reward = {
			USA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			ENG = { 
				if = {
					limit = { NOT = { has_government = fascism } }

					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			FRA = { 
				if = {
					limit = { NOT = { has_government = fascism } }
					add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_focus } 
				}
			}
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_fascist_diplomacy_fascists }
			}
		}
	}

#	focus = {
#		id = SOV_xian_incident
#		icon = GFX_goal_generic_political_pressure
#		prerequisite = { focus = SOV_anti_fascist_diplomacy }
#		x = 10
#		y = 1
#		cost = 10
#		ai_will_do = {
#			factor = 1
#		}	
#		completion_reward = {
#			CHI = { country_event = { id = soviet.18 days = 1 } }
#			custom_effect_tooltip = SOV_xian_incident_tt
#		}
#	}

	focus = {
		id = SOV_far_east_fortification
		icon = GFX_goal_generic_construct_military
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		x = 3
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			563 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_1
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 4719
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 12622
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10559
							instant_build = yes
						}
					}
				}
			}
			657 = {
					if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_2
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 7763
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 4725
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10655
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 7801
							instant_build = yes
						}
					}
				}
			}
			409 = {
				if = {
					limit = { is_controlled_by = ROOT }
					custom_effect_tooltip = SOV_far_east_fortification_forts_3
					hidden_effect = {
						add_building_construction = {
							type = bunker
							level = 2
							province = 12189
							instant_build = yes
						}
						add_building_construction = {
							type = bunker
							level = 2
							province = 10466
							instant_build = yes
						}
					}
				}
			}
			408 = {
				if = {
					limit = { is_controlled_by = ROOT }
				add_building_construction = {
					type = bunker
					level = 2
					province = 11643
					instant_build = yes
					}
				}
			}
			# Other possible Provinces
			# 4719 12622 10559 12543 7851 10678 12657 7763 4725 10655 7801 10722 7672 4805
			# 12189 10466 11643 6686 664 6684 3787 6838 3977 11879 1755
		}
	}

	focus = {
		id = SOV_operation_zet
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_far_east_fortification }
		available = {
			#has_equipment = {
			#	infantry_equipment > 199
			#}
		}
		continue_if_invalid = yes
		bypass = {
			CHI = {
				OR = {
					exists = no
					is_puppet = yes
				}

			}
		}
		select_effect = {
			send_equipment = {
				target = CHI
				type = infantry_equipment_0
				amount = 6000
			}
			send_equipment = {
				target = CHI
				type = infantry_uniforms_0
				amount = 6000
			}
		}
		x = 3
		y = 4
		cost = 1
		ai_will_do = {
			factor = 1
		}
		completion_reward = {
			CHI = {
				add_opinion_modifier = { target = SOV modifier = operation_zet_chi }				
			}
			JAP = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
			PRC = { add_opinion_modifier = { target = SOV modifier = operation_zet_jap } }
		}
	}

	focus = {
		id = SOV_annex_tannu_tuva
		icon = GFX_goal_generic_territory_or_war
		prerequisite = { focus = SOV_operation_zet }
		available = { is_puppet = no }
		bypass = {
			NOT = { country_exists = TAN }
		}
		x = 3
		y = 5
		cost = 2
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			TAN = {
				country_event = { id = soviet.14 }
			}
		}
	}
	
	focus = {
		id = SOV_war_with_japan
		icon = GFX_focus_attack_japan #GFX_goal_generic_major_war
		prerequisite = { focus = SOV_operation_zet }
		x = 1
		y = 5
		available = {
			country_exists = JAP
			NOT = { has_idea = trotskyite_plot }
			NOT = { has_war_with = GER }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		will_lead_to_war_with = JAP
		cost = 10
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_uk
						ENG = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}
		bypass = {
			OR = {
				has_war_with = JAP
				NOT = { country_exists = JAP }
			}
		}
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = JAP
			} 
		}
	}
	
	focus = {
		id = SOV_improve_stalin_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_anti_fascist_diplomacy }
		available = { has_offensive_war = no }
		x = 5
		y = 3
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		cancel_if_invalid = no
		continue_if_invalid = yes
		completion_reward = {
			209 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 6
						province = 415
						instant_build = yes
					}
				}
				#add_building_construction = {
				#	type = bunker
				#	level = 6
				#	province = 209
				#	instant_build = yes
				#}
			}
			210 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3333
						instant_build = yes
					}
				}
			}
			207 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 3219
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6371
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 4
						province = 6220
						instant_build = yes
					}
				}
			}
			206 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 4
						province = 11370
						instant_build = yes
					}
				}
			}
			202 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 525
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 7
						province = 3494
						instant_build = yes
					}
				}

			}
			203 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 7
						province = 11409
						instant_build = yes
					}
				}
			}
			192 = {
				if = {
					limit = { is_controlled_by = ROOT }
					add_building_construction = {
						type = bunker
						level = 5
						province = 754
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 741
						instant_build = yes
					}
					add_building_construction = {
						type = bunker
						level = 5
						province = 11670
						instant_build = yes
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claims_on_baltic
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_improve_stalin_line }
		x = 5
		y = 4
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
				NOT = { 
					GER = { has_completed_focus = GER_demand_memel }
				}
			}
		}
		bypass = {
			OR = { 
				owns_state = 11
				11 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 12
				12 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 189
				189 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 190
				190 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 191
				191 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 13
				13 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			#Lithuania
			add_state_claim = 11
			add_state_claim = 189
			#Latvia
			add_state_claim = 12
			add_state_claim = 190
			#Estonia
			add_state_claim = 191 
			add_state_claim = 13
			add_named_threat = { threat = 1 name = SOV_claims_on_baltic }

			every_other_country = {
			
				limit = {					
					OR = {
						owns_state = 11
						owns_state = 12
						owns_state = 189
						owns_state = 190
						owns_state = 191
						owns_state = 13
					}
				}
				add_opinion_modifier = { target = SOV modifier = threat_to_baltic }
			}
		}
	}

	focus = {
		id = SOV_baltic_security
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claims_on_baltic focus = SOV_anti_capitalist_diplomacy }
		x = 7
		y = 5
		cost = 3
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}
		available = {
			date > 1939.12.1
		}
		bypass = {
			OR = { 
				owns_state = 146
				146 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 146 # Karjala
			add_named_threat = { threat = 1 name = SOV_baltic_security }
			FIN = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}              
			}
			SWE = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
			DEN = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
			NOR = {
				add_timed_idea = {
					idea = communist_pressure
					days = 365
				}             
			}
		}
	}
	
	focus = {
		id = SOV_claims_on_poland
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_claims_on_baltic }
		x = 5
		y = 5
		cost = 2
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}	
		}

		bypass = {
			OR = {
				has_idea = SOV_molotov_ribbentrop_pact

				NOT = { country_exists = POL }

				AND = {
					OR = { 
						owns_state = 91
						91 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 93
						93 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 94
						94 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 95
						95 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 96
						96 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 89
						89 = { is_claimed_by = ROOT }
					}
				}
			}			
		}

		completion_reward = {
			# REVISIT Covers Polish border, may want to add/remove some states
			add_state_claim = 96
			add_state_claim = 95
			add_state_claim = 94
			add_state_claim = 93
			add_state_claim = 91
			add_state_claim = 89
			add_named_threat = { threat = 3 name = SOV_claims_on_poland }

			every_other_country = {
				limit = { 
					OR = {
						owns_state = 96
						owns_state = 95
						owns_state = 94
						owns_state = 93
						owns_state = 91
						owns_state = 89
					}
				}
				add_opinion_modifier = { target = SOV modifier = claimed_eastern_poland }
			}
		}
	}

	focus = {
		id = SOV_demand_eastern_poland
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_claims_on_poland }
		mutually_exclusive = { focus = SOV_offer_poland_protection }
		x = 5
		y = 6
		cost = 2
		available = {
			is_puppet = no
			NOT =  { is_in_faction_with = POL }
			NOT = { has_war_with = POL }
			POL = {
				OR = {

					96 = { is_owned_and_controlled_by = POL }
					95 = { is_owned_and_controlled_by = POL }
					94 = { is_owned_and_controlled_by = POL }
					93 = { is_owned_and_controlled_by = POL }
					91 = { is_owned_and_controlled_by = POL }
					89 = { is_owned_and_controlled_by = POL }
				}
			}
		}

		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality > 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 25
			}
			modifier = {
				factor = 0.5
				ai_irrationality > 30
			}
			modifier = {
				factor = 0.1
				ai_irrationality > 35
			}
		}
		completion_reward = {
			POL = {
				country_event = { id = poland.2 }
				custom_effect_tooltip = needs_approval
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
				}
			}
		}
	}
	focus = {
		id = SOV_fortify_brest_fortress
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_improve_stalin_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
			
					AND = { owns_state = 94 controls_state = 94 }
				
				}
			}

		x = 7
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			94 = {
				add_building_construction = {
					type = bunker
					level = 3
					province = 3392
					instant_build = yes
				}
				
			}
		
		}
	}
	focus = {
		id = SOV_fortify_molotov_line
		icon = GFX_goal_generic_fortify_city
		prerequisite = { focus = SOV_improve_stalin_line }
		available = { 
			has_offensive_war = no 
			#NOT = { has_war_with = GER }
			SOV = {
				AND = {
					AND = { owns_state = 11 controls_state = 11 }
					AND = { owns_state = 12 controls_state = 12 }
					AND = { owns_state = 13 controls_state = 13 }
					AND = { owns_state = 89 controls_state = 89 }
					AND = { owns_state = 91 controls_state = 91 }
					AND = { owns_state = 93 controls_state = 93 }
					AND = { owns_state = 94 controls_state = 94 }
					AND = { owns_state = 95 controls_state = 95 }
					AND = { owns_state = 96 controls_state = 96 }
					AND = { owns_state = 97 controls_state = 97 }
					AND = { owns_state = 189 controls_state = 189 }
					AND = { owns_state = 190 controls_state = 190 }
					AND = { owns_state = 191 controls_state = 191 }
				}
			}

		}



		x = 7
		y = 4
		cost = 7
		ai_will_do = {
			factor = 1
		}	

		completion_reward = {
			11 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 6407
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 5
					province = 6296
					instant_build = yes
				}
			}
			89 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 11411
					instant_build = yes

				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 6431
					instant_build = yes

				}
			}
			95 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9359
					instant_build = yes
				}
				add_building_construction = {
					type = bunker
					level = 4
					province = 3366
					instant_build = yes
				}
			}
			91 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 11479
					instant_build = yes
				}
			}
			94 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 3392
					instant_build = yes
				}
			}
			189 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9731
					instant_build = yes
				}

				add_building_construction = {
					type = bunker
					level = 4
					province = 6360
					instant_build = yes
				}
			}
			97 = {
				add_building_construction = {
					type = bunker
					level = 5
					province = 3393
					instant_build = yes
				}
			}
			190 = {
				add_building_construction = {
					type = bunker
					level = 4
					province = 9262
					instant_build = yes
				}
			}
		}
	}	
	
	focus = {
		id = SOV_offer_poland_protection
		icon = GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_claims_on_poland }
		mutually_exclusive = { focus = SOV_demand_eastern_poland }
		available = {
			POL = {
				country_exists = POL
				has_war = no
				is_puppet = no
			}
		}
		x = 7
		y = 6
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				date < 1939.1.1
			}

			modifier = {
				factor = 0.5
				ai_irrationality < 24
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 20
			}
			modifier = {
				factor = 0.5
				ai_irrationality < 15
			}
			modifier = {
				factor = 0.1
				ai_irrationality < 10
			}
		}
		completion_reward = {
			POL = {
				country_event = { id = poland.5 }
				custom_effect_tooltip = needs_approval
				effect_tooltip = {
					add_state_claim = 5
					add_state_claim = 63
					add_state_claim = 68
					add_state_claim = 66
					add_state_claim = 67
					custom_effect_tooltip = SOV_offer_poland_protection_tt
				}
			}
			effect_tooltip = {
				SOV = {
					if = {
						limit = { POL = { owns_state = 96 controls_state = 96 } }
						transfer_state = 96
					}
					if = {
						limit = { POL = { owns_state = 95 controls_state = 95 } }
						transfer_state = 95
					}
					if = {
						limit = { POL = { owns_state = 94 controls_state = 94 } }
						transfer_state = 94
					}
					if = {
						limit = { POL = { owns_state = 93 controls_state = 93 } }
						transfer_state = 93
					}
					if = {
						limit = { POL = { owns_state = 91 controls_state = 91 } }
						transfer_state = 91
					}
					if = {
						limit = { POL = { owns_state = 89 controls_state = 89 } }
						transfer_state = 89
					}
				}
			}
		}
	}

	focus = {
		id = SOV_claim_bessarabia
		icon = GFX_goal_generic_more_territorial_claims
		prerequisite = { focus = SOV_claims_on_poland }
		x = 3
		y = 6
		cost = 5
		available = {
			date > 1940.3.1
		}
		ai_will_do = {
			factor = 2.5
			modifier = {
				factor = 0
				date < 1940.4.1
			}			
		}
		bypass = {
			OR = { 
				owns_state = 78
				78 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 80
				80 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 78
			add_state_claim = 80
			add_named_threat = { threat = 1 name = SOV_claim_bessarabia }
			random_other_country = {
				limit = { owns_state = 78 }
				add_opinion_modifier = { target = SOV modifier = claimed_bessarabia }
				set_country_flag = SOV_added_claimed_bessarabia
			}
			if = {
				limit = {
					any_other_country = {
						owns_state = 78
						NOT = {	owns_state = 80 }
					}
				}
				random_other_country = {
					limit = { 
						owns_state = 80 
						NOT = { has_country_flag = SOV_added_claimed_bessarabia }
					}
					add_opinion_modifier = { target = SOV modifier = claimed_bucovina }
				}
			}
		}
	}

	focus = {
		id = SOV_secure_romania
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_claim_bessarabia }
		will_lead_to_war_with = ROM
		x = 1
		y = 6
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				is_historical_focus_on = yes
			}
			modifier = {
				factor = 0
				date < 1942.5.1
			}		
		}
		available = {
			date > 1941.7.1
			has_political_power > 60
			ROM = { 
				OR = {
					exists = yes
					is_subject = no
					is_puppet = no
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = ROM
		}
		completion_reward = {
			custom_effect_tooltip = SOV_secure_romania_tooltip
			add_named_threat = { threat = 3 name = SOV_puppet_rom }
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ROM
			}
			add_political_power = -85
		}
	}
	focus = {
		id = SOV_secure_hungary
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_romania }
		will_lead_to_war_with = HUN
		x = -1
		y = 6
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1943.3.1
			}
			modifier = {
				factor = 0
				NOT = { ROM = { is_puppet_of = SOV } }
			}
		}
		available = {
			date > 1942.4.1
			has_political_power > 60
			HUN = { 
				OR = {
					exists = yes
					is_subject = no
					is_puppet = no
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = HUN
		}
		completion_reward = {
			add_named_threat = { threat = 4 name = SOV_puppet_hun }
			add_political_power = -85
			create_wargoal = {
				type = puppet_wargoal_focus
				target = HUN
			}
		}
	}
	focus = {
		id = SOV_secure_bulgaria
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_romania }
		will_lead_to_war_with = BUL
		x = -3
		y = 7
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1942.8.1
			}
			modifier = {
				factor = 0
				NOT = { ROM = { is_puppet_of = SOV } }
			}
		}
		available = {
			date > 1942.4.1
			has_political_power > 50
			BUL = { 
				OR = {
					exists = yes
					is_subject = no
					is_puppet = no
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = BUL
		}
		completion_reward = {
			add_named_threat = { threat = 3 name = SOV_puppet_bul }
			add_political_power = -75
			create_wargoal = {
				type = puppet_wargoal_focus
				target = BUL
			}
		}
	}
	
	focus = {
		id = SOV_secure_greece
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_bulgaria }
		will_lead_to_war_with = GRE
		x = -3
		y = 8
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1942.11.1
			}
			modifier = {
				factor = 0
				NOT = { BUL = { is_puppet_of = SOV } }
			}			
		}
		available = {
			date > 1942.8.1
			has_political_power > 50
			GRE = { 
				OR = {
					exists = yes
					is_subject = no
					is_puppet = no
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = GRE
		}
		completion_reward = {
			add_named_threat = { threat = 4 name = SOV_puppet_gre }
			add_political_power = -75
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GRE
			}
		}
	}
			
	focus = {
		id = SOV_secure_austria
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_hungary }
		will_lead_to_war_with = AUS
		x = 11
		y = 7
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1943.6.1
			}		
			modifier = {
				factor = 0
				NOT = { HUN = { is_puppet_of = SOV } }
			}
		}
		available = {
			date > 1942.8.1
			has_political_power > 50
			AUS = { 
				OR = {
					exists = yes
					is_subject = no
					is_puppet = no
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = AUS
		}
		completion_reward = {
			add_named_threat = { threat = 3 name = SOV_puppet_aus }
			add_political_power = -75
			create_wargoal = {
				type = puppet_wargoal_focus
				target = AUS
			}
		}
	}
	
	focus = {
		id = SOV_secure_yugoslavia
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_hungary }
		will_lead_to_war_with = YUG
		x = 9
		y = 7
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1943.10.1
			}	
			modifier = {
				factor = 0
				NOT = { HUN = { is_puppet_of = SOV } }
			}
		}
		available = {
			date > 1943.2.1
			has_political_power > 75
			YUG = { 
				OR = {
					exists = no
					is_subject = yes
					is_puppet = yes
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = YUG
		}
		completion_reward = {
			add_named_threat = { threat = 5 name = SOV_puppet_yug }
			add_political_power = -100
			create_wargoal = {
				type = puppet_wargoal_focus
				target = YUG
			}
		}
	}
	
	focus = {
		id = SOV_secure_albania
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_secure_yugoslavia }
		will_lead_to_war_with = ALB
		x = 9
		y = 8
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 0
				date < 1944.3.1
			}	
			modifier = {
				factor = 0
				NOT = { YUG = { is_puppet_of = SOV } }
			}
		}
		available = {
			date > 1943.5.1
			has_political_power > 35
			ALB = { 
				OR = {
					exists = no
					is_subject = yes
					is_puppet = yes
				}
			}
			OR = {
				NOT = { has_war_with = GER}
				AND = {
					has_war_with = GER
					GER = { has_capitulated = yes }
				}
			}
		}
		bypass = {
			has_war_with = ALB
		}
		completion_reward = {
			add_named_threat = { threat = 3 name = SOV_puppet_alb }
			add_political_power = -50
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ALB
			}
		}
	}
	
	focus = {
		id = SOV_war_with_germany
		icon = GFX_focus_attack_germany #GFX_goal_generic_major_war
		prerequisite = { focus = SOV_demand_eastern_poland focus = SOV_offer_poland_protection }
		available = {
			country_exists = GER
			custom_trigger_tooltip = {
				tooltip = SOV_war_with_germany_tt
				NOT = { has_idea = SOV_molotov_ribbentrop_pact }
			}
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = GER
		}
		will_lead_to_war_with = GER
		x = 11
		y = 8
		cost = 3
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_uk
						ENG = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.75
				}
			}

			modifier = {
				factor = 2

				ROM = {
					is_in_faction_with = GER
				}
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = GER
			}
			set_country_flag = sov_attacks_ger
		}
	}
	focus = {
		id = SOV_aviation_cult
		icon = GFX_goal_generic_air_doctrine
		#prerequisite = { focus = SOV_positive_heroism }
		x = 15
		y = 0
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			air_experience = 25

			add_tech_bonus = {
				name = air_bonus
				bonus = 0.5
				uses = 2
				category = light_air
				category = medium_air
				category = heavy_air
				category = naval_air
			}
		}
	}
	#The State Planning Committee (Gosplan) order nine new aircraft factories. (1939)
	focus = {
		id = SOV_Gosplan_aircraft_factories
		icon = GFX_goal_soviet_committee
		prerequisite = { focus = SOV_aviation_cult }
		x = 14
		y = 1
		cost = 5
		available = {
			date > 1939.1.1
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			random_owned_controlled_state = {
				limit = {
					Ltaircraft_factory > 0
				
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = Ltaircraft_factory
					level = 1
					instant_build = yes
				}
				
			}
			random_owned_controlled_state = {
				limit = {
					Ltaircraft_factory > 0
				
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = Ltaircraft_factory
					level = 1
					instant_build = yes
				}
				
			}
			random_owned_controlled_state = {
				limit = {
					Ltaircraft_factory > 0
				
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = Ltaircraft_factory
					level = 1
					instant_build = yes
				}
				
			}
			random_owned_controlled_state = {
				limit = {
					Hvaircraft_factory > 0
				
				}
				add_extra_state_shared_building_slots = 1
				add_building_construction = {
					type = Hvaircraft_factory
					level = 1
					instant_build = yes
				}
				
			}

			add_research_slot = 1
			add_research_centre = yes
			SLOT:air_techs_folder = yes
		
		}
	}
	
	focus = {
		id = SOV_develop_cas
		icon = GFX_goal_generic_CAS
		prerequisite = { focus = SOV_aviation_cult }
		x = 16
		y = 1
		cost = 2
		available = {
			#date > 1939.1.1
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_tech_bonus = {
				name = bomber_bonus
				bonus = 0.25
				uses = 2
				technology = tech_il_2_equipment_1
				technology = tech_il_10_equipment_1
			}
		
		}
	}
	focus = {
		id = SOV_anti_capitalist_diplomacy
		icon = GFX_focus_generic_strike_at_democracy3 #GFX_goal_molotov_ribbentrop_pact
		prerequisite = { focus = SOV_peoples_commissariat }
		x = 13
		y = 2
		cost = 7
		ai_will_do = {
			factor = 0.5
			modifier = {
				democratic_govt = yes
				factor = 0
			}

			modifier = {
				factor = 5
				ai_irrationality > 25
			}

			modifier = {
				factor = 5
				ai_irrationality > 35
			}

			modifier = {
				factor = 2
				ai_irrationality > 40
			}
		}
		available_if_capitulated = yes
		available = {
			NOT = { democratic_govt = yes }
		}
		completion_reward = {
			every_other_country = {
				limit = { has_government = fascism }
				add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_focus }
			}
			USA = {
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			ENG = {
				if = { 
					limit = { NOT = { has_government = communism } }

					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
			FRA = {
				if = {
					limit = { NOT = { has_government = communism } }
					add_opinion_modifier = { target = SOV modifier = anti_capitalist_diplomacy_capitalists } 
				}
			}
		}
	}
	#New York Worlds Fair > expelled from  League of Nations
focus = {
		id = SOV_leave_World_Fair
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_anti_capitalist_diplomacy  }
		x = 12
		y = 3
		cost = 5
		available = {
			#date > 1939.1.1
			has_global_flag = sov_yes_pact
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			set_country_flag = NY_worldfair
			#country_event = soviet.387
		
		}
	}
	

	focus = {
		id = SOV_anti_colonialist_rebels
		icon = GFX_focus_generic_join_comintern
		prerequisite = { focus = SOV_leave_World_Fair }
		x = 11
		y = 4
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_named_threat = { threat = 1 name = SOV_anti_colonialist_rebels }
			FRA = {
				add_ideas = comintern_influence
			}
			ENG = {
				add_ideas = comintern_influence
			}
			
				add_timed_idea = { idea = comintern days = 1095 }
			
		}
	}
	#dissolve comintern 
	focus = {
		id = SOV_dissolve_comintern
		icon = GFX_goal_generic_war_with_comintern
		prerequisite = { focus = SOV_anti_colonialist_rebels  }
		x = 11
		y = 5
		cost = 5
		available = {
			NOT = {has_idea = comintern} 
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			ENG = {remove_ideas = comintern_influence 
				   add_opinion_modifier = { target = SOV modifier = medium_increase }}
			FRA = {remove_ideas = comintern_influence
				   add_opinion_modifier = { target = SOV modifier = medium_increase }}
			
			add_opinion_modifier = { target = ENG modifier = medium_increase }
			
			add_opinion_modifier = { target = FRA modifier = medium_increase }
			}
		}
	
	focus = {
		id = SOV_southern_thrust
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_anti_colonialist_rebels }
		x = 13
		y = 6
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				has_war_with = GER
				factor = 0
			}
			modifier = {
				AND = {
					has_war_with = ENG
					surrender_progress > 0.3
				}
				factor = 0
			}
			modifier = {
				has_war_with = RAJ
				factor = 5
			}
		}
		will_lead_to_war_with = PER
		will_lead_to_war_with = IRQ
		will_lead_to_war_with = AFG
		bypass = {
			PER = {
				NOT = { owns_state = 419 }
				NOT = { owns_state = 420 }
				NOT = { owns_state = 266 }
			}
			IRQ = {
				NOT = { owns_state = 676 }
				NOT = { owns_state = 291 }
			}
			AFG = {
				NOT = { owns_state = 267 }
				NOT = { owns_state = 415 }
			}
		}
		completion_reward = {
			if = {
				limit = { 
					PER = {
						OR = {
							owns_state = 419
							owns_state = 420
							owns_state = 266
						}
					} 
				}
				create_wargoal = {
					type = take_state_focus
					target = PER
					generator = { 419 420 266 }
				}
			}
			if = {
				limit = { 
					IRQ = {
						OR = {
							owns_state = 676
							owns_state = 291
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = IRQ
					generator = { 676 291 }
				}
			}
			if = {
				limit = {
					AFG = {
						OR = {
							owns_state = 267
							owns_state = 415
						}
					} 
				}			
				create_wargoal = {
					type = take_state_focus
					target = AFG
					generator = { 267 415 }
				}
			}
			ENG = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			FRA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			USA = {
				add_opinion_modifier = { target = SOV modifier = middle_east_expansionism }
			}
			# REVISIT Possibly add other Allies faction members as well
		}
	}

	focus = {
		id = SOV_war_with_uk
		icon = GFX_focus_attack_britain #GFX_goal_generic_major_war
		prerequisite = { focus = SOV_southern_thrust }
		prerequisite = { focus = SOV_ultimatum_to_greece }
		available = {
			country_exists = ENG
			NOT = { has_idea = trotskyite_plot }
			custom_trigger_tooltip = {
				tooltip = SOV_has_not_officers_purged_tt
				NOT = { has_idea = officers_purged }			
				NOT = { has_idea = officers_purged_2 }			
				NOT = { has_idea = officers_purged_3 }			
				NOT = { has_idea = officers_purged_4 }			
				NOT = { has_idea = officers_purged_5 }			
				NOT = { has_idea = officers_purged_6 }			
				NOT = { has_idea = officers_purged_7 }			
				NOT = { has_idea = officers_purged_8 }			
				NOT = { has_idea = officers_purged_9 }			
				NOT = { has_idea = officers_purged_10 }			
			}
		}
		bypass = {
			has_war_with = ENG
		}
		will_lead_to_war_with = ENG
		x = 14
		y = 7
		cost = 3
		ai_will_do = {
			factor = 1

			modifier = {
				factor = 0

				OR = {
					AND = {
						has_completed_focus = SOV_war_with_japan
						JAP = { has_capitulated = no }
					}
					AND = {
						has_completed_focus = SOV_war_with_uk
						ENG = { has_capitulated = no }
					}
					has_war = yes
				}
				OR = {
					any_enemy_country = {
						is_neighbor_of = ROOT
					}
					alliance_strength_ratio > 0.9
				}
			}
		}	
		completion_reward = {
			create_wargoal = {
				type = puppet_wargoal_focus
				target = ENG
			} 
		}
	}

	focus = {
		id = SOV_claim_on_the_straits
		icon = GFX_goal_generic_political_pressure
		prerequisite = { focus = SOV_anti_colonialist_rebels }
		available = {
		}
		x = 13
		y = 4
		cost = 5
		ai_will_do = {
			factor = 1
		}
		bypass = {
			OR = { 
				owns_state = 341
				341 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 347
				347 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 340
				340 = { is_claimed_by = ROOT }
			}
			OR = { 
				owns_state = 339
				339 = { is_claimed_by = ROOT }
			}
		}
		completion_reward = {
			add_state_claim = 341
			add_state_claim = 347
			add_state_claim = 340
			add_state_claim = 339
			add_named_threat = { threat = 2 name = SOV_claim_on_the_straits }
		}
	}

	focus = {
		id = SOV_ultimatum_to_greece
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_claim_on_the_straits }
		available = {
			is_puppet = no
			341 = { is_controlled_by = SOV }
			347 = { is_controlled_by = SOV }
			340 = { is_controlled_by = SOV }
			339 = { is_controlled_by = SOV }
		}
		bypass = {
			187 = { is_controlled_by = SOV }
		}
		x = 15
		y = 6
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			add_state_claim = 187
			if = {
				limit = { country_exists = GRE }
				GRE = { country_event = { id = greece.1 days = 1 } }
			}
		}
	}


	### END BRANCH ###
	focus = {
		id = SOV_reconcile_japan
		icon = GFX_focus_chi_collaboration_with_the_japanese #GFX_goal_generic_major_alliance
		prerequisite = { focus = SOV_anti_capitalist_diplomacy }
		available = {			
			is_puppet = no
			#JAP = { NOT = { is_in_faction = yes } } 
			NOT = { has_war_with = JAP }
		}

		bypass = {
			NOT = { country_exists = JAP }
		}
		x = 15
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
		}	
		completion_reward = {
			JAP = {
				add_opinion_modifier = { target = SOV modifier = border_conflict_reconciled }
				country_event = { id = soviet.23 days = 1 }
				effect_tooltip = { transfer_state = 655 }
			}
		}
	}

	focus = {
		id = SOV_claim_on_sinkiang
		icon = GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_reconcile_japan }
		available = {
			JAP = { has_war_with = CHI }
		}
		x = 15
		y = 4
		cost = 5
		ai_will_do = {
			factor = 1
		}
		
		bypass = {
			OR = {
				NOT = { country_exists = SIK }
				AND = {
					OR = { 
						owns_state = 618
						618 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 949
						949 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 617
						617 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 760
						760 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 619
						619 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 754
						754 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 287
						287 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 950
						950 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 759
						759 = { is_claimed_by = ROOT }
					}
					OR = { 
						owns_state = 918
						918 = { is_claimed_by = ROOT }
					}
				}
			}
		}

		completion_reward = {
			add_state_claim = 618
			add_state_claim = 949
			add_state_claim = 617
			add_state_claim = 760
			add_state_claim = 619
			add_state_claim = 754
			add_state_claim = 287
			add_state_claim = 950
			add_state_claim = 759
			add_state_claim = 918
			add_named_threat = { threat = 2 name = SOV_claim_on_sinkiang_threat }
		}
	}
	focus = {
		id = SOV_permanent_revolution
		icon = GFX_focus_generic_join_comintern
		available = {
			custom_trigger_tooltip = {
				tooltip = SOV_permanent_revolution_tt
				has_country_flag = counter_purge
			}
			has_government = communism
			has_civil_war = no
			has_country_flag = Trotsky_government
		}
		x = 24
		y = 0
		cost = 2
		ai_will_do = { 
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			if = {
				limit = { has_country_flag = counter_purge }
				remove_country_leader_trait = permanent_revolutionary
				add_country_leader_trait = triumphant_revolutionary
			}
			if = {
				limit = { NOT = { has_country_flag = counter_purge } }
				custom_effect_tooltip = SOV_permanent_revolution_tt2
			}
				remove_ideas = home_of_revolution
				add_ideas = world_revolution
			
		}
	}
	#incite revolution in Germany- event for dow or civil war (ai will dow)
	focus = {
		id = SOV_revolution_germany
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 19
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
		
				country_event = { id = soviet.348  } 
		}
	}
	#incite revolution in France
	focus = {
		id = SOV_revolution_france
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 19
		y = 2
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.350  } 
		}
	}
	#incite revolution in italy
	focus = {
		id = SOV_revolution_italy
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 21
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.352  } 
		}
	}
#incite revolution in rest of europe
#NOR
#SWE
#HOL
#BEL
#FIN
#LUX
#DEN
####
	focus = {
		id = SOV_revolution_europe
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 21
		y = 2
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.354  } 
		}
	}
	#incite revolution in UK
	focus = {
		id = SOV_revolution_england
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 19
		y = 3
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.356  } 
		}
	}
	#incite revolution in usa
	focus = {
		id = SOV_revolution_usa
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 19
		y = 4
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.358  } 
		}
	}
	#incite revolution in colonies - Uk/ french colonies + hotspots
	focus = {
		id = SOV_revolution_colonies
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 21
		y = 3
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.370  } 
		}
	}
#incite revolution in rest of world - events for 10 random nations every 6 months
focus = {
		id = SOV_revolution_world
		icon = GFX_goal_communist_revolt
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 21
		y = 4
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#increase communism + event 
			country_event = { id = soviet.372  } 
		}
	}
#
#Invade Poland - event to dow or incite revolution ?
focus = {
		id = SOV_invade_poland
		icon = GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 20
		y = 5
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = soviet.374  } 
		}
	}
#Invade eastern europe - event to dow  or incite revolution ?
focus = {
		id = SOV_invade_eastern_europe
		icon = GFX_focus_ger_great_red_menace #GFX_goal_generic_attack_allies
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 20
		y = 6
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			country_event = { id = soviet.376  } 
		}
	}
#support Mao
focus = {
		id = SOV_support_mao
		icon = GFX_focus_chi_cooperation_with_the_communists #GFX_goal_support_communism
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			country_exists = PRC
			not = { has_war_with = PRC }
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 22
		y = 5
		cost = 2
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#send equipment
			#country_event = { id = soviet.378  } 
			PRC = {
				load_oob = "PRC_SOV_reinforcements_2"
				add_manpower = 5000
				add_political_power = 150
			}
		}
	}

#Purge stalinists - remove the stalin cronies - set up trotskyites + some government oppositon
focus = {
		id = SOV_purge_stalinists
		icon = GFX_goal_stalin_paranoia
		prerequisite = { focus = SOV_permanent_revolution }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 23
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = mikhail_kalinin
			remove_ideas = ivan_konev
			remove_unit_leader = 608
			remove_ideas = pavel_zhigarev
			remove_ideas = stepan_krasovsky
			remove_ideas = arseniy_golovko
			remove_unit_leader = 609
			remove_ideas = georgy_zhukov
			remove_unit_leader = 610
			remove_ideas = sergey_gorshkov
			remove_unit_leader = 611
			remove_ideas = sergei_rudenko
			remove_ideas = nikita_khrushchev
			remove_ideas = konstantin_rodzaevsky
		}
	}
	#purge old generals - retire the dead wood
	focus = {
		id = SOV_retire_dead_wood
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_purge_stalinists }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 23
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_unit_leader = 863 # Budyonny, field marshal
			remove_unit_leader = 865 # Chernyakhovsky, general
			remove_unit_leader = 889 # Kulik, field marshal
			remove_unit_leader = 866 # Purkayev, Maksim, general
			remove_unit_leader = 867 # Popov, Markian, general
			remove_unit_leader = 868 # Malinovsky, Rodion, general
			remove_unit_leader = 869 # Reyter, Max, general
			remove_unit_leader = 872 # Zakharov, Georgiy, general
			remove_unit_leader = 855 # Voroshilov, Kliment, field marshal
			remove_unit_leader = 854 # Timoshenko, Semyon, general 
			set_country_flag = dead_wood_gone
		}
	}
#an intellectual government
focus = {
		id = SOV_intellectual_government
		icon = GFX_focus_generic_soviet_politics
		prerequisite = { focus = SOV_retire_dead_wood }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 24
		y = 3
		cost = 3
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#set up ministers
			add_ideas = intellectual_Politburo
		}
	}
#a Fondness of mexico
focus = {
		id = SOV_fondness_of_mexico
		icon = GFX_goal_communist_mexico
		prerequisite = { focus = SOV_intellectual_government }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 24
		y = 4
		cost = 2
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_opinion_modifier = { target = MEX modifier =  communism_leanings_good }
			
		}
	}
#marry Frida Kahlo
focus = {
		id = SOV_marry_frida
		icon = GFX_goal_frida_kahlo
		prerequisite = { focus = SOV_fondness_of_mexico }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 24
		y = 5
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = Frida
		}
	}
#Make art not war
focus = {
		id = SOV_art_not_war
		icon = GFX_goal_art_not_war
		prerequisite = { focus = SOV_marry_frida }
		available = {
			has_country_flag = Trotsky_government
			has_civil_war = no
		}
		x = 24
		y = 6
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = socialist_art2
		}
	}
	#create 4th International in France ( or somewhere else)
focus = {
		id = SOV_4th_international
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = SOV_permanent_revolution focus = SOV_great_purge }
		available = {
			#has_country_flag = Trotsky_government
		}
		x = 26
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = fourth_international_paris
		}
	}
#move 4th international to New york if war in europe begins
focus = {
		id = SOV_4th_international_New_york
		icon = GFX_goal_support_fourth_int
		prerequisite = { focus = SOV_4th_international }
		available = {
			FRA = { not = {controls_state = 844 }}
		}
		x = 26
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			remove_ideas = fourth_international_paris
			add_ideas = fourth_international_newyork
		}
	}
	#The Transitional Program,'The Death Agony of Capitalism and the Tasks of the Fourth International'
	focus = {
		id = SOV_The_Transitional_Program
		icon = GFX_goal_generic_forceful_treaty
		
		prerequisite = { focus = SOV_4th_international }
		available = {
			
		}
		x = 26
		y = 3
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = Transitional_Program
		}
	}
	focus = {
		id = SOV_great_purge
		icon = GFX_goal_generic_war_with_comintern
		available = {
			#NOT = { has_idea = exile_trotsky }
			if = {
				limit = {
					is_ai = no 
				}
				NOT = { has_country_flag = counter_purge }
				has_government = communism
				NOT = {  has_country_flag = Trotsky_government }
				has_civil_war = no
			}
		}
		x = 30
		y = 0
		cost = 10
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 0
				any_claim = yes
				has_war = yes
			}
		}

		bypass = {
			custom_trigger_tooltip = {
				tooltip = SOV_great_purge_bypass_tt
				has_country_flag = counter_purge
			}
		}

		select_effect = {
			country_event = { id = soviet.24 }
			set_country_flag = SOV_purge_started
		}
		completion_reward = {
		
			custom_effect_tooltip = SOV_great_purge_tt
			custom_effect_tooltip = SOV_great_purge_tt2
			clr_country_flag = trotskyarrives
			add_timed_idea = {
				idea = exile_trotsky
				days = 70
			}
			add_ideas = trotskyite_plot_purged
		}
	}
	#The Great Officer Purge
	focus = {
		id = SOV_great_officer_purge
		icon = GFX_goal_army_purge
		prerequisite = { focus = SOV_great_purge }
		
		available = {
			#NOT = { has_idea = exile_trotsky }
			NOT = { has_country_flag = counter_purge }
			has_government = communism
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 31
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			add_political_power = -500
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
				
			#Full military purge. Hardest penalty
			if = {
				limit = {
					OR = {
						has_country_flag = purge_1_group_a
						has_country_flag = purge_1_group_b
					}
					OR = {						
						has_country_flag = purge_2_group_a
						has_country_flag = purge_2_group_b
					}
				}
				add_ideas = officers_purged
				hidden_effect = {
					country_event = { id = soviet.37 days = 146 }				
				}
				hidden_effect = {
					news_event = { hours = 6 id = news.219 }
				}
			}

			#1 military purge. Lower penalty
			if = {
				limit = {
					OR = {
						AND = {
							NOT = { 
								OR = { 
									has_country_flag = purge_1_group_a
									has_country_flag = purge_1_group_b
								}
							}
							OR = {						
								has_country_flag = purge_2_group_a
								has_country_flag = purge_2_group_b
							}
						}
						AND = {
							OR = { 
								has_country_flag = purge_1_group_a
								has_country_flag = purge_1_group_b
							}
							NOT = {
								OR = {						
									has_country_flag = purge_2_group_a
									has_country_flag = purge_2_group_b
								}
							}
						}
					}
				}
				add_ideas = officers_purged_3
				set_country_flag = officers_purged_3
				#hidden_effect = {
				#	country_event = { id = soviet.40 days = 146 }				
				#}
			}	

			#No military purge. Lowest penalty.
			if = {
				limit = {
					NOT = {
						OR = {
							has_country_flag = purge_1_group_a
							has_country_flag = purge_1_group_b
						}
					}
					NOT = {
						OR = {
							has_country_flag = purge_2_group_a
							has_country_flag = purge_2_group_b
						}
					}
				}
				add_ideas = officers_purged_5
				set_country_flag = officers_purged_5
				#hidden_effect = {
				#	country_event = { id = soviet.43 days = 146 }				
				#}
			}

			hidden_effect = {
				if = {
					limit = { 
						any_enemy_country = {
							is_major = yes
							has_offensive_war_with = SOV
						}
					}
					country_event = { id = soviet.46 days = 3 }
				}				 
			}
			add_ideas = red_army_purge_I
			#For the tooltip
			if = {
				limit = {
					is_ai = no 
				}
				add_ideas = {
					officer_train_none
					train_none
				}
			}
		}
	}
	
	#first Moscow trial, of Zinoviev, Kamenev, others
	focus = {
		id = SOV_first_Moscow_trial
		icon = GFX_goal_show_trial
		prerequisite = { focus = SOV_great_officer_purge }
		available = {
			#NOT = { has_idea = exile_trotsky }
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 29
		y = 1
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
			#triggers soviet.25 	
		}
	}
	#second Moscow trial, of Pyotakov, Radek, others
	focus = {
		id = SOV_second_Moscow_trial
		icon = GFX_goal_show_trial
		prerequisite = { focus = SOV_first_Moscow_trial }
		available = {
			#NOT = { has_idea = exile_trotsky }
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 29
		y = 2
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
		}
	}
	#third Moscow trial, of Bukharin, Rykov, Yagoda, others
	focus = {
		id = SOV_third_Moscow_trial
		icon = GFX_goal_show_trial
		prerequisite = { focus = SOV_second_Moscow_trial }
		available = {
			#NOT = { has_idea = exile_trotsky }
			has_civil_war = no
		}
		x = 29
		y = 3
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 70
				}
			}
		}
	}
	#great_airforce_purge
	focus = {
		id = SOV_great_airforce_purge
		icon = GFX_goal_air_purge
		prerequisite = { focus = SOV_third_Moscow_trial }
		available = {
			#NOT = { has_idea = exile_trotsky }
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 31
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 35
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 35
				}
			}
			add_ideas = red_airforce
			
		}
	}
	#great_navy_purge 
	focus = {
		id = SOV_great_navy_purge 
		icon = GFX_goal_navy_purge
		prerequisite = { focus = SOV_third_Moscow_trial }
		available = {
			#NOT = { has_idea = exile_trotsky }
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 31
		y = 3
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 35
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 35
				}
			}
			add_ideas = red_fleet
			
		}
	}
	#intelligentsia
	focus = {
		id = SOV_intelligentsia_purge
		icon = GFX_goal_intellectual_purge
		#prerequisite = { focus = SOV_nkvd_troika }
		available = {
			#NOT = { has_idea = exile_trotsky }
			has_completed_focus = SOV_nkvd_troika
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 29
		y = 4
		cost = 3
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			add_timed_idea = {
				idea = intelligentsia_purge
				days = 180
			}
		}
	}
	#artists/writers
	focus = {
		id = SOV_artists_writers_purged
		icon = GFX_goal_art_purged
		#prerequisite = { focus = SOV_nkvd_troika }
		available = {
			#NOT = { has_idea = exile_trotsky }
			has_completed_focus = SOV_nkvd_troika
			NOT = {  has_country_flag = Trotsky_government }
			has_civil_war = no
		}
		x = 31
		y = 4
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			add_timed_idea = {
				idea = art_purge
				days = 365
			}
		}
	}
	#dob in your neighbour/ family member
	focus = {
		id = SOV_neighbourhood_witchhunt
		icon = GFX_focus_shadow_government
		prerequisite = { focus = SOV_great_purge }
		available = {
			NOT = {  has_country_flag = Trotsky_government }
			has_completed_focus = SOV_stalins_paranoia	
			has_civil_war = no
		}
		x = 30
		y = 6
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			
			country_event = { id = soviet.389 }
		}
	}
	#assassinate Trotsky
	focus = {
		id = SOV_assassinate_trotsky
		icon = GFX_goal_trotsky_icepick
		prerequisite = { focus = SOV_neighbourhood_witchhunt }
		prerequisite = { focus = SOV_artists_writers_purged }
		prerequisite = { focus = SOV_intelligentsia_purge }
		prerequisite = { focus = SOV_great_airforce_purge }
		prerequisite = { focus = SOV_great_navy_purge }
		
		available = {
			NOT = {  has_country_flag = Trotsky_government }
			NOT = { has_idea = exile_trotsky }
			has_civil_war = no
		}
		
		x = 30
		y = 8
		cost = 10
		
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			clr_country_flag = trotskyarrives
			remove_ideas = exile_trotsky
			remove_ideas = trotskyite_plot
			remove_ideas = Transitional_Program
			remove_ideas = fourth_international_newyork
		}
	}
	#what Now ? Trotsky dead
	focus = {
		id = SOV_Trotsky_dead
		icon = GFX_goal_trotsky_dead
		prerequisite = { focus = SOV_assassinate_trotsky }
		available = {
			#has_country_flag = Trotsky_government
			NOT = { has_idea = exile_trotsky }
			has_civil_war = no
		}
		x = 30
		y = 9
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			#idea
		}
	}
	#Trotskynite unite
	focus = {
		id = SOV_Trotskyites_unite
		icon = GFX_goal_trotskyite_unite
		prerequisite = { focus = SOV_Trotsky_dead }
		available = {
			#has_country_flag = Trotsky_government
			NOT = { has_idea = exile_trotsky }
			has_civil_war = no
		}
		x = 30
		y = 10
		cost = 10
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = Trotskyites
		}
	}
	focus = {
		id = SOV_rehabilitated_military
		icon = GFX_goal_generic_small_arms
		#prerequisite = { focus = SOV_great_officer_purge focus = SOV_permanent_revolution }
		mutually_exclusive = { focus = SOV_nkvd_primacy }
		x = 34
		y = 2
		cost = 10
		available = {
			OR = {	
				has_completed_focus = SOV_great_officer_purge
				has_completed_focus = SOV_permanent_revolution
			}
		}
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 100
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = rehabilitated_military_focus
		}
	}

	focus = {
		id = SOV_military_reorganization
		icon = GFX_goal_generic_army_doctrines
		prerequisite = { focus = SOV_rehabilitated_military }
		x = 34
		y = 3
		cost = 10
		ai_will_do = {
			factor = 0.25
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available = {
			has_army_experience > 99.9
		}
		available_if_capitulated = yes
		completion_reward = {
			army_experience = -100
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = land_doctrine
			}
		}
	}
	#NKVD Troika
	focus = {
		id = SOV_nkvd_troika
		icon = GFX_goal_nkvd_troika
		#prerequisite = { focus = SOV_third_Moscow_trial }
		prerequisite = { focus = SOV_stalins_paranoia }
		available = {
			has_completed_focus = SOV_third_Moscow_trial
		}
		x = 36
		y = 1
		cost = 2
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
			add_ideas = NKVDtroika
		}
	}
	#stalins paranoia
	focus = {
		id = SOV_stalins_paranoia
		icon = GFX_goal_stalin_paranoia
		available = {
			has_completed_focus = SOV_great_purge
		}
		x = 38
		y = 0
		cost = 2
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 180
				}
			}
			add_ideas = paranoia
		}
	}
	focus = {
		id = SOV_indoctrination_focus
		icon = GFX_goal_generic_propaganda
		prerequisite = { focus = SOV_stalins_paranoia }
		x = 4
		y = 1
		relative_position_id = SOV_stalins_paranoia
		cost = 10
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = SOV_resistance
			#unlock_communist_partisans = yes
		}
	}
	focus = {
		id = SOV_nkvd_primacy
		icon = GFX_goal_nkvd_troika
		prerequisite = { focus = SOV_nkvd_troika }
		mutually_exclusive = { focus = SOV_rehabilitated_military }
		x = 36
		y = 2
		cost = 5
		ai_will_do = {
			factor = 10
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		
		available_if_capitulated = yes
		completion_reward = {
			add_ideas = nkvd
		}
	}

	focus = {
		id = SOV_nkvd_divisions
		icon = GFX_goal_nkvd_troika
		prerequisite = { focus = SOV_nkvd_primacy }
		x = 36
		y = 3
		cost = 5
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			custom_effect_tooltip = SOV_nkvd_upgrade_tooltip

			hidden_effect = {
				remove_ideas = nkvd
				add_ideas = nkvd_2
			}
		}
	}
	focus = {
		id = SOV_military_reorganization2
		icon = GFX_goal_generic_allies_build_infantry
		prerequisite = { focus = SOV_military_reorganization focus = SOV_nkvd_divisions}
		#prerequisite = { focus = SOV_great_officer_purge }
		x = 35
		y = 4
		cost = 12
		available = {
			hidden_trigger = { has_war = yes }
			OR = {
				any_enemy_country = {
					is_major = yes 
				}
				any_enemy_country = {
					is_in_faction = yes 
				}
				surrender_progress > 0.1
				casualties > 30000000				
			}	
			has_any_purge_idea = yes
		}
		ai_will_do = {
			factor = 0
			
		}	
		available_if_capitulated = no
		
		select_effect = {
			add_timed_idea = {
				idea = red_army_reorganising
				days = 340
			}
		}
		
		completion_reward = {
			army_experience = 350
			if = {
				limit = {
					has_idea = officers_purged
				}
				remove_ideas = officers_purged
			}
			if = {
				limit = {
					has_idea = officers_purged_2
				}
				remove_ideas = officers_purged_2
			}
			if = {
				limit = {
					has_idea = officers_purged_3
				}
				remove_ideas = officers_purged_3
			}
			if = {
				limit = {
					has_idea = officers_purged_4
				}
				remove_ideas = officers_purged_4
			}
			if = {
				limit = {
					has_idea = officers_purged_5
				}
				remove_ideas = officers_purged_5
			}
			if = {
				limit = {
					has_idea = officers_purged_6
				}
				remove_ideas = officers_purged_6
			}
			if = {
				limit = {
					has_idea = officers_purged_7
				}
				remove_ideas = officers_purged_7
			}
			if = {
				limit = {
					has_idea = officers_purged_8
				}
				remove_ideas = officers_purged_8
			}
			if = {
				limit = {
					has_idea = officers_purged_9
				}
				remove_ideas = officers_purged_9
			}
			if = {
				limit = {
					has_idea = officers_purged_10
				}
				remove_ideas = officers_purged_10
			}
			
			if = {
				limit = {
					has_idea = red_army_purge_I
				}
				remove_ideas = red_army_purge_I
			}
			if = {
				limit = {
					has_idea = red_army_purge_II
				}
				remove_ideas = red_army_purge_II
			}
			if = {
				limit = {
					has_idea = red_army_purge_III
				}
				remove_ideas = red_army_purge_III
			}
			if = {
				limit = {
					has_idea = red_army_purge_IV
				}
				remove_ideas = red_army_purge_IV
			}
			if = {
				limit = {
					has_idea = red_army_purge_V
				}
				remove_ideas = red_army_purge_V
			}
			if = {
				limit = {
					has_idea = red_army_purge_VI
				}
				remove_ideas = red_army_purge_VI
			}
			if = {
				limit = {
					has_idea = red_army_purge_VII
				}
				remove_ideas = red_army_purge_VII
			}
			
			if = {
				limit = {
					has_idea = red_airforce
				}
				remove_ideas = red_airforce
			}
			if = {
				limit = {
					has_idea = red_fleet
				}
				remove_ideas = red_fleet
			}
			custom_effect_tooltip = SELECT_EFFECT_TT
			effect_tooltip = {
				add_timed_idea = {
					idea = red_army_reorganising
					days = 340
				}
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:infantry_folder = yes
			SLOT:support_folder = yes
			SLOT:land_doctrine_folder = yes
		}
	}
	#SikorskiMayski agreement
	focus = {
		id = SOV_Sikorski_Mayski_agreement
		icon = GFX_goal_generic_military_deal
		prerequisite = { focus = SOV_Icebreaker  }
		x = 41
		y = 5
		cost = 5
		
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
		}
		
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			add_manpower = 300000
			add_timed_idea = {
				idea = polish_agreement
				days = 90
			}
		}
	}
	focus = {
		id = SOV_lend_lease
		icon = GFX_goal_lend_lease
		prerequisite = { focus = SOV_Sikorski_Mayski_agreement }
		relative_position_id = SOV_Sikorski_Mayski_agreement
		x = 1
		y = 1
		cost = 1
		
		available = {
			has_defensive_war_with = GER
			ENG = { exists = yes }
			has_global_flag = UK_soviet_lend_lease
		}
		
		ai_will_do = {
			factor = 10
			
		}
		
		available_if_capitulated = yes
		completion_reward = {
			USA = { country_event = usa.76 }
			ENG = { country_event = usa.76 }
		}
	}
	focus = {
		id = SOV_lessons_of_war
		icon = GFX_goal_generic_military_sphere
		prerequisite = { focus = SOV_nkvd_divisions focus = SOV_military_reorganization }
		available = {
			OR = {
				date > 1941.1.1
				has_country_flag = SOV_war_since_purge
			}
		}
		x = 35
		y = 5
		cost = 8
		ai_will_do = {
			factor = 1
			modifier = {
				factor = 1000
				any_claim = yes
				has_war = yes
			}
		}	
		available_if_capitulated = yes
		completion_reward = {
			army_experience = 20
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				uses = 1
				category = armor
			}
			add_tech_bonus = {
				name = armor_bonus
				bonus = 0.5
				category = land_doctrine
			}	
		}
	}

	focus = {
		id = SOV_research_city_experiment
		icon = GFX_focus_wonderweapons
		prerequisite = { focus = SOV_lessons_of_war }
		available = {

		}
		x = 35
		y = 6
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = nuclear_bonus
				bonus = 0.5
				category = nuclear
			}
		}
	}

	focus = {
		id = SOV_diversify_the_programme
		icon = GFX_focus_rocketry
		prerequisite = { focus = SOV_research_city_experiment }
		available = {

		}
		x = 36
		y = 7
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				name = secret
				bonus = 0.5
				uses = 2
				category = rocketry
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:electronics_folder = yes
			SLOT:nuclear_folder = yes
		}
	}

	focus = {
		id = SOV_closed_city_network
		icon = GFX_focus_research
		prerequisite = { focus = SOV_research_city_experiment }
		available = {

		}
		x = 34
		y = 7
		cost = 10
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			add_tech_bonus = {
				bonus = 0.5
				uses = 2
				category = land_doctrine
			}
			add_research_slot = 1
			add_research_centre = yes
			SLOT:support_folder = yes
			SLOT:artillery_folder = yes
			SLOT:electronics_folder = yes
		}
	}

	### END BRANCH ###
#foreign spies everywhere !
focus = {
		id = SOV_spies_everywhere
		icon = GFX_goal_spy_purge
		prerequisite = { focus = SOV_stalins_paranoia }
		available = {
			NOT = { has_idea = exile_trotsky }
		}
		x = 38
		y = 1
		cost = 5
		ai_will_do = {
			factor = 10
		}

		available_if_capitulated = yes

		completion_reward = {
		clr_country_flag = trotskyarrives
			if = {
				limit = {
					has_idea = exile_trotsky
				}
				modify_timed_idea = {
					idea = exile_trotsky
					days = 90
				}
			}
			else_if = {
				limit = {
					NOT = { has_idea = exile_trotsky }
				}
				add_timed_idea = {
					idea = exile_trotsky
					days = 90
				}
			}
			add_timed_idea = {
				idea = SOV_spies
				days = 365
			}
					
		}
	}
	focus = {
		id = SOV_smersh
		icon = GFX_goal_spy_focus
		prerequisite = { focus = SOV_spies_everywhere }
		available = {
			OR = {
				has_war_with = GER
				has_war_with = JAP
				has_war_with = ENG
				has_war_with = FRA
				has_war_with = USA
				has_war_with = ITA
			}
		}
		bypass = {
			NOT = { has_idea = trotskyite_plot_purged }
		}
		x = 38
		y = 2
		cost = 3
		ai_will_do = {
			factor = 1
		}	
		available_if_capitulated = yes
		completion_reward = {
			#custom_effect_tooltip = SOV_smersh_tt
			remove_ideas = trotskyite_plot_purged
			remove_ideas = SOV_spies
		}
	}

	focus = {
		id = SOV_partisan_suppression
		icon = GFX_goal_generic_dangerous_deal
		prerequisite = { focus = SOV_smersh }
		x = 38
		y = 3
		cost = 3
		ai_will_do = {
			factor = 1
		}	

		available_if_capitulated = yes
		
		completion_reward = {
			add_ideas = partisan_suppression_focus
		}
	}
	
	#Reinstate Dual-command System
	focus = {
		id = SOV_Reinstate_Dual_command
		icon = GFX_goal_generic_forceful_treaty
		#prerequisite = { focus =   }
		x = 38
		y = 4
		cost = 5
		available = {
			has_war_with = GER		
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_ideas = Dual_command
		}
	}
	#Rescind Dual Command System
	focus = {
		id = SOV_Rescind_Dual_command
		icon = GFX_goal_generic_forceful_treaty
		prerequisite = { focus = SOV_Reinstate_Dual_command }
		x = 38
		y = 5
		cost = 1
		available = {
			OR = {
				NOT = { has_idea = Rodina_I }	
				NOT = { has_idea = red_army_disarry_I }	
			}
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			remove_ideas = Dual_command
		}
	}

	#recruit proletariat_divisions
# exchange NIC or CIC or MIC for conscripts
focus = {
		id = SOV_proletariat_divisions
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_Icebreaker  }
		x = 40
		y = 4
		cost = 5
		available = {
			surrender_progress > 0.25
			NOT = { has_idea = soviet_workers }
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_manpower = 1500000
			add_timed_idea = {
				idea = proletariats_fight
				days = 365
			}
			set_technology = { com_militia = 1 }
			division_template = {
				name = "Communist Militia"	

				regiments = {
					communist_militia = { x = 0 y = 0 }
					communist_militia = { x = 0 y = 1 }
					communist_militia = { x = 0 y = 2 }
					
					communist_militia = { x = 1 y = 0 }
					communist_militia = { x = 1 y = 1 }
					communist_militia = { x = 1 y = 2 }
					
					communist_militia = { x = 2 y = 0 }
					communist_militia = { x = 2 y = 1 }
					communist_militia = { x = 2 y = 2 }
				}

				support = {
					DIV_HQ = { x = 0 y = 0 }
					recon_cav = { x = 0 y = 1 }
				}
			}
			every_state = {
				limit = {
					NOT = { has_state_flag = com_militia }
					is_on_continent = europe
					is_owned_by = SOV
					is_controlled_by = SOV
					any_neighbor_state = {
						is_owned_by = SOV
						CONTROLLER = { has_war_with = SOV }
					}
				}
				create_unit = {
					division = "name = \"Communist Militia\" division_template = \"Communist Militia\" start_experience_factor = 0.5 start_equipment_factor = 0.5" 
					owner = SOV
				}
			}
		}
	}
	focus = {
		id = SOV_onethousanders
		icon = GFX_goal_generic_soviet_construction
		prerequisite = { focus = SOV_Icebreaker  }
		x = 42
		y = 4
		cost = 5
		available = {
			has_war_with_major = yes
			NOT = { has_idea = proletariats_fight }
		}
		ai_will_do = {
			factor = 0
		}

		
		completion_reward = {
		#country_event = {id = soviet.338 }
		add_manpower = -1000000
		add_timed_idea = {
				idea = soviet_workers
				days = 365
			}
		}
	}

	focus = {
		id = SOV_berlings_army
		icon = GFX_goal_focus_communist_army
		prerequisite = { focus = SOV_Sikorski_Mayski_agreement  }
		x = -1
		y = 1
		relative_position_id = SOV_Sikorski_Mayski_agreement
		cost = 1.5
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			country_event = {id = soviet.388 }
		}
	}
		#create Polish peoples army
	focus = {
		id = SOV_polish_army
		icon = GFX_goal_focus_communist_army
		#prerequisite = { focus = SOV_guards_armyunits  }
		prerequisite = { focus = SOV_berlings_army  }
		#prerequisite = { focus = SOV_Tank_Corps_focus }
		relative_position_id = SOV_Sikorski_Mayski_agreement
		x = -1
		y = 2
		cost = 1.5
		
		available = {
			has_war_with = GER
			GER = {controls_state = 10}
			has_tech = guards_motorized_tech
		}
		
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			country_event = {id = soviet.336 }
		}
	}
	#NOT ONE STEP BACK - ORDER NO 227 -is a decision already
	#focus = {
	#	id = SOV_ORDER_NO_227
	#	icon = GFX_goal_generic_forceful_treaty
	#	prerequisite = { focus = SOV_GreatPatriotic_War_speech  }
	#	x = 40
	#	y = 3
	#	cost = 5
	#	available = {
	#		has_war_with = GER	
	#		OR = {
	#			NOT = { has_idea = Rodina_I }	
	#			NOT = { has_idea = red_army_disarry_I }	
	#		}
	#	}
	#	ai_will_do = {
	#		factor = 5
	#	}
	#
	#	
	#	completion_reward = {
	#		add_ideas = order_227
	#	}
	#}
	#NOT ONE STEP BACK - REVERSE DECISION
	#focus = {
	#	id = SOV_ORDER_NO_227_reverse
	#	icon = GFX_goal_generic_forceful_treaty
	#	#prerequisite = { focus = SOV_ORDER_NO_227  }
	#	x = 40
	#	y = 4
	#	cost = 1
	#	available = {
	#		
	#	}
	#	ai_will_do = {
	#		factor = 5
	#	}
	#
	#	
	#	completion_reward = {
	#		#remove_ideas = order_227
	#	}
	#}
	#Igor Moiseyev Dance troupe
focus = {
		id = SOV_Moiseyev_Dance_troupe
		icon = GFX_goal_generic_national_unity
		prerequisite = { focus = SOV_stalins_paranoia  }
		x = 40
		y = 1
		cost = 1
		available = {
			#date > 1937.9.01
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_ideas = Moiseyev_Dance		
		}
	}
	#The Great Patriotic War  - Stalin speeches
# short term bonus to economy or combat 
focus = {
		id = SOV_GreatPatriotic_War_speech
		icon = GFX_goal_stalin_portrait
		prerequisite = { focus = SOV_stalins_paranoia  }
		x = 40
		y = 2
		cost = 1
		available = {
			has_war_with = GER	
			NOT = {  has_country_flag = Trotsky_government }
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			add_timed_idea = {
				idea = Stalins_speech_I
				days = 720 
			}
		}
	}


	#DOW Germany
# short term combat bonus + Dow Germany
focus = {
		id = SOV_Icebreaker
		icon = GFX_focus_attack_germany #GFX_goal_generic_occupy_states_ongoing_war
		prerequisite = { focus = SOV_stalins_paranoia  }
		x = 41
		y = 3
		cost = 5
		bypass = {
			has_war_with = GER 
		}
		available = {
			not = { has_war_with = GER}
			NOT = { is_in_faction_with = GER }
			ENG = {
				any_owned_state = {
					is_in_home_area = yes
					GER = { divisions_in_state = { state = PREV size > 0 } }
				}
			}
		}
		ai_will_do = {
			factor = 5
		}
		
		select_effect = {
			if = {
				limit = {
					is_ai = yes 
				}
				add_ai_strategy = {
					type = conquer
					id = GER
					value = 10000
				}
			}
		}

		completion_reward = {
			declare_war_on = {
				target = GER
				type = annex_everything
			}
		}
	}	
#######################################################
	focus = {
		id = SOV_tankograd
		icon = GFX_goal_tankograd
		prerequisite = { focus = SOV_military_reorganization2 }
		x = 46
		y = 1
		cost = 5
		available = {
			has_war_with = GER
			SOV = { controls_state = 572 }
		}
		ai_will_do = {
			factor = 0
		}

		
		completion_reward = {
			if = {
				limit = {
					has_country_flag = SOV_german_treaty_accepted
				}
				custom_effect_tooltip = SOV_unlock_tank_research_tankograd_no_tt
				add_tech_bonus = {
					name = armor_bonus
					bonus = 0.25
					uses = 1
					category = armor
				}
			}
			else = {
				custom_effect_tooltip = SOV_unlock_tank_research_tankograd_yes_tt
				add_research_slot = 1
				add_research_centre = yes
				SLOT:tank_techs_folder = yes
				SLOT:armor_folder = yes
			}
			572  = {
				add_extra_state_shared_building_slots = 4
				add_building_construction = {
					type = tank_factory
					level = 4
					instant_build = yes
				}
			}
		}
	}	
	#create soviet elite naval infantry

	focus = {
		id = SOV_naval_infantry
		icon = GFX_goal_generic_build_navy
		prerequisite = { focus = SOV_military_reorganization2 }
		x = 46
		y = 3
		cost = 7
		available = {
			has_war_with = GER
			has_tech = marines
		}
		ai_will_do = {
			factor = 5
		}

		completion_reward = {
			
			SOV = {
				country_event = SOV_tank_event.11
			}
		}
	}	
	#create soviet guards - army/ airforce

	focus = {
		id = SOV_guards_armyunits
		icon = GFX_goal_soviet_guards
		prerequisite = { focus = SOV_military_reorganization2 }
		x = 44
		y = 1
		cost = 4
		available = {
			has_war_with = GER	
			is_puppet = no
			exists = yes 
			SOV = { controls_state = 653 } 
		}
		
		ai_will_do = {
			factor = 0
		}

		
		completion_reward = {
			army_experience = 180
			country_event = {id = soviet.331 }
		}
	}	
	# bonus to air formations ?
	focus = {
		id = SOV_guards_airunits
		icon = GFX_goal_soviet_guards
		prerequisite = { focus = SOV_guards_armyunits }
		x = 44
		y = 2
		cost = 4
		available = {
			has_war_with = GER	
			date > 1943.1.1
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			air_experience = 90
			country_event = {id = soviet.332 }
		}
	}

#form OMSDON NKVD - INDEPENDANT SPECIAL PURPOSE MOTORIZED BRIGADE 

focus = {
		id = SOV_OMSDON_NKVD 
		icon = GFX_goal_nkvd_troika
		prerequisite = { focus = SOV_guards_armyunits  }
		x = 44
		y = 3
		cost = 4
		available = {
			
			has_war_with = GER	
			has_tech = guards_motorized_tech
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
	
			country_event = {id = soviet.334 }
			
		}
	}
#form OTRYAD OSOBOGO NAZNACHENIYA  OSNAZ

focus = {
		id = SOV_OSNAZ
		icon = GFX_goal_nkvd_troika
		prerequisite = { focus = SOV_OMSDON_NKVD   }
		x = 44
		y = 4
		cost = 4
		available = {
			
			has_war_with = GER	
			has_tech = guards_motorized_tech
			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {

			country_event = {id = soviet.335 }
			
		}
	}
	focus = {
		id = SOV_guards_strengthen
		icon = GFX_goal_soviet_guards
		prerequisite = { focus = SOV_OSNAZ  }
		x = 44
		y = 5
		cost = 6
		available = {
			has_war_with = GER	
			has_tech = guards_paratrooper_tech
			has_tech = guards_artillery_tech
			has_tech = guards_artillery_mot_tech
			has_tech = guards_motorized_rocket_brigade_tech
			has_tech = guards_motorized_tech
			has_tech = guards_infantry_tech
			has_tech = guards_cavalry_tech
			has_tech = guards_sov_t_34_tank
			has_tech = guards_sov_kv_tank
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			set_technology = { sov_better_guards = 1 }
			#country_event = {id = soviet.335 }
			
		}
	}
	#develop rocket artillery katyusha
	# bonus to rocket artillery research
	focus = {
		id = SOV_katyusha
		icon = GFX_goal_generic_army_artillery2
		#prerequisite = { focus =   }
		x = 46
		y = 4
		cost = 5
		available = {
			has_war = yes			
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
				army_experience = 10
			add_tech_bonus = {
				name = artillery_bonus
				bonus = 0.30
				uses = 2
				technology = rocket_artillery
				technology = rocket_artillery2
			}
			add_tech_bonus = {
				name = artillery_bonus
				bonus = 0.15
				uses = 1
				technology = rocket_artillery3
				
			}			
		}
	}
	#develop Artillery Divisions
	# new template + OOB + new unit ?
	focus = {
		id = SOV_artillery_divisions
		icon = GFX_goal_generic_army_artillery2
		prerequisite = { focus = SOV_military_reorganization2 }
		x = 46
		y = 5
		cost = 5
		available = {
			has_war = yes
			has_tech = artillery4
			has_tech = medartillery3 
			has_tech = Hvartillery3 
			has_tech = medartillery1
			has_tech = Hvartillery1 
			has_tech = rocket_artillery2 
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			country_event = {id = soviet.337 }
		}
	}

###################### Tank Corps National Focus ####################
	#T34 focus
	focus = {
		id = SOV_T34_focus
		icon = GFX_goal_generic_army_tanks
		#prerequisite = { focus =   }
		x = 48
		y = 0
		cost = 4
		available = {
			date > 1939.1.1
		}
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			add_tech_bonus = {
                name = armor_bonus
                technology = tech_medium_soviet_tank_c
				ahead_reduction = 0.5
			}
		}
	}
	focus = {
		id = SOV_KV1_focus
		icon = GFX_goal_generic_army_tanks
		#prerequisite = { focus =   }
		x = 50
		y = 0
		cost = 4
		available = {
			date > 1938.6.1
		}
		ai_will_do = {
			factor = 5
		}
		
		completion_reward = {
			add_tech_bonus = {
                name = armor_bonus
                technology = tech_heavy_soviet_tank_c
				ahead_reduction = 0.5
			}	
		}
	}
	focus = {
		id = SOV_Tank_Corps_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_T34_focus  }
		prerequisite = { focus = SOV_military_reorganization2 }
		x = 48
		y = 1
		cost = 4
		available = {
			has_war = yes
			date > 1942.3.01
			controls_state = 251	# Kuybyshev
			controls_state = 236	# Astrakhan
			controls_state = 351	# Vologda
			has_tech = tech_medium_soviet_tank_c
		}
		ai_will_do = {
			factor = 15
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.1
			}
		}
	}
	
##### set B, next wave, May 42

	focus = {
		id = SOV_Tank_Corps_wave_two_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_focus  }
		x = 48
		y = 2
		cost = 4
		available = {
			has_war = yes
			date > 1942.4.10
			controls_state = 249 	# Kazan
			controls_state = 251 	# Kuybyshev
		}
		ai_will_do = {
			factor = 8
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.2
			}
		}
	}
	
##### set C, next wave, June/July 42

	focus = {
		id = SOV_Tank_Corps_wave_three_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_wave_two_focus  }
		x = 48
		y = 3
		cost = 4
		available = {
			has_war = yes
			date > 1942.5.20
			controls_state = 401 	# Engels, replaces Saratov
			controls_state = 249 	# Kazan
			controls_state = 251 	# Kuybyshev			
		}
		ai_will_do = {
			factor = 8
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.3
			}
		}
	}
	
##### Mechanised Corps, autumn 1942

	focus = {
		id = SOV_Mechanised_Corps_focus
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SOV_Tank_Corps_wave_three_focus  }
		x = 50
		y = 4
		cost = 4
		available = {
			has_war = yes
			date > 1942.9.01
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.4
			}
		}
	}	
	
##### template upgrade and next wave, December to February 42/43

	focus = {
		id = SOV_Tank_Corps_wave_four_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_wave_three_focus  }
		x = 48
		y = 4
		cost = 4
		available = {
			has_war = yes
			date > 1942.12.01
			controls_state = 401 	# Engels, replaces Saratov
			controls_state = 236 	# Astrakhan
			has_tech = subtech_light_soviet_tank_td_1
		}
		ai_will_do = {
			factor = 8
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.5
			}
		}
	}
	
##### template upgrade and next wave, March to May 42/43

	focus = {
		id = SOV_Tank_Corps_wave_five_focus
		icon = GFX_focus_generic_army_tanks2
		prerequisite = { focus = SOV_Tank_Corps_wave_four_focus  }
		x = 48
		y = 5
		cost = 4
		available = {
			has_war = yes
			date > 1943.3.01
			controls_state = 398 	# Perm
			controls_state = 351 	# Vologda
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
			set_technology = { HVantitank1 = 1 }
			SOV = {
				country_event = SOV_tank_event.6
			}
		}
	}
	
##### template upgrade, August 43

	focus = {
		id = SOV_Tank_Corps_upgrade_one_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_wave_five_focus  }
		x = 48
		y = 6
		cost = 4
		available = {
			has_war = yes
			date > 1943.7.01
			has_tech= subtech_medium_soviet_ag_1
			has_tech= subtech_heavy_soviet_ag_2			# needs tank techs
		}
		ai_will_do = {
			factor = 3
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.7
			}
		}
	}
	
##### template upgrade, November 43

	focus = {
		id = SOV_Tank_Corps_upgrade_two_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_upgrade_one_focus  }
		x = 48
		y = 7
		cost = 4
		available = {
			has_war = yes
			date > 1943.10.10
		}
		ai_will_do = {
			factor = 3
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.8
			}
		}
	}
	
##### template upgrade, February 44

	focus = {
		id = SOV_Tank_Corps_upgrade_three_focus
		icon = GFX_goal_generic_army_tanks
		prerequisite = { focus = SOV_Tank_Corps_upgrade_two_focus  }
		x = 48
		y = 8
		cost = 4
		available = {
			has_war = yes
			date > 1944.01.10
			has_tech= subtech_t_34_td_1				# needs tank techs
			has_tech= subtech_heavy_soviet_ag_2
		}
		ai_will_do = {
			factor = 3
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.9
			}
		}
	}

##### Mechanised Corps, second wave, autumn 1943

	focus = {
		id = SOV_Mechanised_Corps_II_focus
		icon = GFX_goal_generic_army_motorized
		prerequisite = { focus = SOV_Mechanised_Corps_focus  }
		x = 50
		y = 5
		cost = 4
		available = {
			has_war = yes
			date > 1943.9.01
			has_tech = subtech_light_soviet_tank_td_1
			has_tech = subtech_heavy_soviet_ag_2
			has_tech = subtech_t_34_td_1
		}
		ai_will_do = {
			factor = 5
		}

		
		completion_reward = {
				
			SOV = {
			country_event = SOV_tank_event.10
			}
		}
	}	

#Churchill signed a treaty of alliance with Stalin. (26 may 1942)
# Lend lease from USA starts november 1941 (food and transport)


#persian invasion
#turkish invasion ?
#baltics rework

	############################################################
	
		
	#motorised army -army speed boost
	#aircraft research  -tech boosts
	#develop ground attack aircraft
		#fighter
		#cas
		#long range bombers
	
	#city defence - urban defence boost
	
	#support partisans
	
	#
}